<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_65) on Tue Aug 05 21:46:34 PDT 2014 -->
<title>BlockingEnvelopeMap (samza-api 0.8.0-SNAPSHOT API)</title>
<meta name="date" content="2014-08-05">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BlockingEnvelopeMap (samza-api 0.8.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.BlockingEnvelopeMapMetrics.html" title="class in org.apache.samza.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/samza/util/BlockingEnvelopeMap.html" target="_top">Frames</a></li>
<li><a href="BlockingEnvelopeMap.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.samza.util</div>
<h2 title="Class BlockingEnvelopeMap" class="title">Class BlockingEnvelopeMap</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.samza.util.BlockingEnvelopeMap</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/apache/samza/system/SystemConsumer.html" title="interface in org.apache.samza.system">SystemConsumer</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">BlockingEnvelopeMap</span>
extends java.lang.Object
implements <a href="../../../../org/apache/samza/system/SystemConsumer.html" title="interface in org.apache.samza.system">SystemConsumer</a></pre>
<div class="block"><p>
 BlockingEnvelopeMap is a helper class for SystemConsumer implementations.
 Samza's poll() requirements make implementing SystemConsumers somewhat
 tricky. BlockingEnvelopeMap is provided to help other developers write
 SystemConsumers. The intended audience is not those writing Samza jobs, but
 rather those extending Samza to consume from new types of stream providers
 and other systems.
 </p>
 
 <p>
 SystemConsumers that implement BlockingEnvelopeMap need to add messages using
 add (or addAll), and update noMoreMessage using setIsAtHead. The
 noMoreMessage variable is used to determine whether a SystemStreamPartition
 is "caught up" (has read all possible messages from the underlying system).
 For example, with a Kafka system, noMoreMessages would be set to true when
 the last message offset returned is equal to the offset high watermark for a
 given topic/partition.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.BlockingEnvelopeMapMetrics.html" title="class in org.apache.samza.util">BlockingEnvelopeMap.BlockingEnvelopeMapMetrics</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.BufferGauge.html" title="class in org.apache.samza.util">BlockingEnvelopeMap.BufferGauge</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.samza.system.SystemConsumer">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.samza.system.<a href="../../../../org/apache/samza/system/SystemConsumer.html" title="interface in org.apache.samza.system">SystemConsumer</a></h3>
<code><a href="../../../../org/apache/samza/system/SystemConsumer.html#BLOCK_ON_OUTSTANDING_MESSAGES">BLOCK_ON_OUTSTANDING_MESSAGES</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#BlockingEnvelopeMap()">BlockingEnvelopeMap</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#BlockingEnvelopeMap(org.apache.samza.util.Clock)">BlockingEnvelopeMap</a></strong>(<a href="../../../../org/apache/samza/util/Clock.html" title="interface in org.apache.samza.util">Clock</a>&nbsp;clock)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#BlockingEnvelopeMap(org.apache.samza.metrics.MetricsRegistry)">BlockingEnvelopeMap</a></strong>(<a href="../../../../org/apache/samza/metrics/MetricsRegistry.html" title="interface in org.apache.samza.metrics">MetricsRegistry</a>&nbsp;metricsRegistry)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#BlockingEnvelopeMap(org.apache.samza.metrics.MetricsRegistry,%20org.apache.samza.util.Clock)">BlockingEnvelopeMap</a></strong>(<a href="../../../../org/apache/samza/metrics/MetricsRegistry.html" title="interface in org.apache.samza.metrics">MetricsRegistry</a>&nbsp;metricsRegistry,
                   <a href="../../../../org/apache/samza/util/Clock.html" title="interface in org.apache.samza.util">Clock</a>&nbsp;clock)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#BlockingEnvelopeMap(org.apache.samza.metrics.MetricsRegistry,%20org.apache.samza.util.Clock,%20java.lang.String)">BlockingEnvelopeMap</a></strong>(<a href="../../../../org/apache/samza/metrics/MetricsRegistry.html" title="interface in org.apache.samza.metrics">MetricsRegistry</a>&nbsp;metricsRegistry,
                   <a href="../../../../org/apache/samza/util/Clock.html" title="interface in org.apache.samza.util">Clock</a>&nbsp;clock,
                   java.lang.String&nbsp;metricsGroupName)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#getNumMessagesInQueue(org.apache.samza.system.SystemStreamPartition)">getNumMessagesInQueue</a></strong>(<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&nbsp;systemStreamPartition)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#isAtHead(org.apache.samza.system.SystemStreamPartition)">isAtHead</a></strong>(<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&nbsp;systemStreamPartition)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.BlockingQueue&lt;<a href="../../../../org/apache/samza/system/IncomingMessageEnvelope.html" title="class in org.apache.samza.system">IncomingMessageEnvelope</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#newBlockingQueue()">newBlockingQueue</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>,java.util.List&lt;<a href="../../../../org/apache/samza/system/IncomingMessageEnvelope.html" title="class in org.apache.samza.system">IncomingMessageEnvelope</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#poll(java.util.Set,%20long)">poll</a></strong>(java.util.Set&lt;<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&gt;&nbsp;systemStreamPartitions,
    long&nbsp;timeout)</code>
<div class="block">Poll the SystemConsumer to get any available messages from the underlying
 system.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#put(org.apache.samza.system.SystemStreamPartition,%20org.apache.samza.system.IncomingMessageEnvelope)">put</a></strong>(<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&nbsp;systemStreamPartition,
   <a href="../../../../org/apache/samza/system/IncomingMessageEnvelope.html" title="class in org.apache.samza.system">IncomingMessageEnvelope</a>&nbsp;envelope)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#putAll(org.apache.samza.system.SystemStreamPartition,%20java.util.List)">putAll</a></strong>(<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&nbsp;systemStreamPartition,
      java.util.List&lt;<a href="../../../../org/apache/samza/system/IncomingMessageEnvelope.html" title="class in org.apache.samza.system">IncomingMessageEnvelope</a>&gt;&nbsp;envelopes)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#register(org.apache.samza.system.SystemStreamPartition,%20java.lang.String)">register</a></strong>(<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&nbsp;systemStreamPartition,
        java.lang.String&nbsp;offset)</code>
<div class="block">Register a SystemStreamPartition to this SystemConsumer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.Boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.html#setIsAtHead(org.apache.samza.system.SystemStreamPartition,%20boolean)">setIsAtHead</a></strong>(<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&nbsp;systemStreamPartition,
           boolean&nbsp;isAtHead)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.samza.system.SystemConsumer">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.samza.system.<a href="../../../../org/apache/samza/system/SystemConsumer.html" title="interface in org.apache.samza.system">SystemConsumer</a></h3>
<code><a href="../../../../org/apache/samza/system/SystemConsumer.html#start()">start</a>, <a href="../../../../org/apache/samza/system/SystemConsumer.html#stop()">stop</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BlockingEnvelopeMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BlockingEnvelopeMap</h4>
<pre>public&nbsp;BlockingEnvelopeMap()</pre>
</li>
</ul>
<a name="BlockingEnvelopeMap(org.apache.samza.util.Clock)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BlockingEnvelopeMap</h4>
<pre>public&nbsp;BlockingEnvelopeMap(<a href="../../../../org/apache/samza/util/Clock.html" title="interface in org.apache.samza.util">Clock</a>&nbsp;clock)</pre>
</li>
</ul>
<a name="BlockingEnvelopeMap(org.apache.samza.metrics.MetricsRegistry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BlockingEnvelopeMap</h4>
<pre>public&nbsp;BlockingEnvelopeMap(<a href="../../../../org/apache/samza/metrics/MetricsRegistry.html" title="interface in org.apache.samza.metrics">MetricsRegistry</a>&nbsp;metricsRegistry)</pre>
</li>
</ul>
<a name="BlockingEnvelopeMap(org.apache.samza.metrics.MetricsRegistry, org.apache.samza.util.Clock)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BlockingEnvelopeMap</h4>
<pre>public&nbsp;BlockingEnvelopeMap(<a href="../../../../org/apache/samza/metrics/MetricsRegistry.html" title="interface in org.apache.samza.metrics">MetricsRegistry</a>&nbsp;metricsRegistry,
                   <a href="../../../../org/apache/samza/util/Clock.html" title="interface in org.apache.samza.util">Clock</a>&nbsp;clock)</pre>
</li>
</ul>
<a name="BlockingEnvelopeMap(org.apache.samza.metrics.MetricsRegistry, org.apache.samza.util.Clock, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BlockingEnvelopeMap</h4>
<pre>public&nbsp;BlockingEnvelopeMap(<a href="../../../../org/apache/samza/metrics/MetricsRegistry.html" title="interface in org.apache.samza.metrics">MetricsRegistry</a>&nbsp;metricsRegistry,
                   <a href="../../../../org/apache/samza/util/Clock.html" title="interface in org.apache.samza.util">Clock</a>&nbsp;clock,
                   java.lang.String&nbsp;metricsGroupName)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="register(org.apache.samza.system.SystemStreamPartition, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>public&nbsp;void&nbsp;register(<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&nbsp;systemStreamPartition,
            java.lang.String&nbsp;offset)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/apache/samza/system/SystemConsumer.html#register(org.apache.samza.system.SystemStreamPartition,%20java.lang.String)">SystemConsumer</a></code></strong></div>
<div class="block">Register a SystemStreamPartition to this SystemConsumer. The SystemConsumer
 should try and read messages from all SystemStreamPartitions that are
 registered to it. SystemStreamPartitions should only be registered before
 start is called.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/samza/system/SystemConsumer.html#register(org.apache.samza.system.SystemStreamPartition,%20java.lang.String)">register</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/samza/system/SystemConsumer.html" title="interface in org.apache.samza.system">SystemConsumer</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>systemStreamPartition</code> - The SystemStreamPartition object representing the Samza
          SystemStreamPartition to receive messages from.</dd><dd><code>offset</code> - String representing the offset of the point in the stream to start
          reading messages from. This is an inclusive parameter; if "7" were
          specified, the first message for the system/stream/partition to be
          consumed and returned would be a message whose offset is "7".</dd></dl>
</li>
</ul>
<a name="newBlockingQueue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newBlockingQueue</h4>
<pre>protected&nbsp;java.util.concurrent.BlockingQueue&lt;<a href="../../../../org/apache/samza/system/IncomingMessageEnvelope.html" title="class in org.apache.samza.system">IncomingMessageEnvelope</a>&gt;&nbsp;newBlockingQueue()</pre>
</li>
</ul>
<a name="poll(java.util.Set, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>poll</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>,java.util.List&lt;<a href="../../../../org/apache/samza/system/IncomingMessageEnvelope.html" title="class in org.apache.samza.system">IncomingMessageEnvelope</a>&gt;&gt;&nbsp;poll(java.util.Set&lt;<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&gt;&nbsp;systemStreamPartitions,
                                                                                long&nbsp;timeout)
                                                                                  throws java.lang.InterruptedException</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/apache/samza/system/SystemConsumer.html#poll(java.util.Set,%20long)">SystemConsumer</a></code></strong></div>
<div class="block">Poll the SystemConsumer to get any available messages from the underlying
 system.
 
 <p>
 If the underlying implementation does not take care to adhere to the
 timeout parameter, the SamzaContainer's performance will suffer
 drastically. Specifically, if poll blocks when it's not supposed to, it
 will block the entire main thread in SamzaContainer, and no messages will
 be processed while blocking is occurring.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/samza/system/SystemConsumer.html#poll(java.util.Set,%20long)">poll</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/samza/system/SystemConsumer.html" title="interface in org.apache.samza.system">SystemConsumer</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>systemStreamPartitions</code> - A set of SystemStreamPartition to poll for new messages. If
          SystemConsumer has messages available for other registered
          SystemStreamPartitions, but they are not in the
          systemStreamPartitions set in a given poll invocation, they can't
          be returned. It is illegal to pass in SystemStreamPartitions that
          have not been registered with the SystemConsumer first.</dd><dd><code>timeout</code> - If timeout &lt; 0, poll will block unless all SystemStreamPartition
          are at "head" (the underlying system has been checked, and
          returned an empty set). If at head, an empty map is returned. If
          timeout &gt;= 0, poll will return any messages that are currently
          available for any of the SystemStreamPartitions specified. If no
          new messages are available, it will wait up to timeout
          milliseconds for messages from any SystemStreamPartition to become
          available. It will return an empty map if the timeout is hit, and
          no new messages are available.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A map from SystemStreamPartitions to any available
         IncomingMessageEnvelopes for the SystemStreamPartitions. If no
         messages are available for a SystemStreamPartition that was
         supplied in the polling set, the map will not contain a key for the
         SystemStreamPartition. Will return an empty map, not null, if no
         new messages are available for any SystemStreamPartitions in the
         input set.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - Thrown when a blocking poll has been interrupted by another
          thread.</dd></dl>
</li>
</ul>
<a name="put(org.apache.samza.system.SystemStreamPartition, org.apache.samza.system.IncomingMessageEnvelope)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>protected&nbsp;void&nbsp;put(<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&nbsp;systemStreamPartition,
       <a href="../../../../org/apache/samza/system/IncomingMessageEnvelope.html" title="class in org.apache.samza.system">IncomingMessageEnvelope</a>&nbsp;envelope)
            throws java.lang.InterruptedException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd></dl>
</li>
</ul>
<a name="putAll(org.apache.samza.system.SystemStreamPartition, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putAll</h4>
<pre>protected&nbsp;void&nbsp;putAll(<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&nbsp;systemStreamPartition,
          java.util.List&lt;<a href="../../../../org/apache/samza/system/IncomingMessageEnvelope.html" title="class in org.apache.samza.system">IncomingMessageEnvelope</a>&gt;&nbsp;envelopes)
               throws java.lang.InterruptedException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd></dl>
</li>
</ul>
<a name="getNumMessagesInQueue(org.apache.samza.system.SystemStreamPartition)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumMessagesInQueue</h4>
<pre>public&nbsp;int&nbsp;getNumMessagesInQueue(<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&nbsp;systemStreamPartition)</pre>
</li>
</ul>
<a name="setIsAtHead(org.apache.samza.system.SystemStreamPartition, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIsAtHead</h4>
<pre>protected&nbsp;java.lang.Boolean&nbsp;setIsAtHead(<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&nbsp;systemStreamPartition,
                            boolean&nbsp;isAtHead)</pre>
</li>
</ul>
<a name="isAtHead(org.apache.samza.system.SystemStreamPartition)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isAtHead</h4>
<pre>protected&nbsp;boolean&nbsp;isAtHead(<a href="../../../../org/apache/samza/system/SystemStreamPartition.html" title="class in org.apache.samza.system">SystemStreamPartition</a>&nbsp;systemStreamPartition)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../org/apache/samza/util/BlockingEnvelopeMap.BlockingEnvelopeMapMetrics.html" title="class in org.apache.samza.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/samza/util/BlockingEnvelopeMap.html" target="_top">Frames</a></li>
<li><a href="BlockingEnvelopeMap.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
